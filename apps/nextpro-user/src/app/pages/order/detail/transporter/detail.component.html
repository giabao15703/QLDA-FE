<div class="lg:mx-32 mx-6 mt-3 mb-20">
    <div class="border h-auto rounded-xl shadow-form py-5 lg:px-14 px-5 text-sm">
        @for (item of orderInformation; track item) {
            <div [id]="item.id" class="grid grid-cols-1 lg:grid-cols-2 gap-x-20 gap-y-5">
                <div class="flex flex-col gap-y-2 font-semibold">
                    <div>
                        {{ 'order.detail.order-code' | translate }}:
                        <span class="font-normal ml-3">{{ item.productCode }}</span>
                    </div>
                    <div>
                        {{ 'order.detail.supplier' | translate }}:<span class="font-normal ml-3">{{
                            item.supplierFullName
                        }}</span>
                    </div>
                    <div>
                        {{ 'order.detail.phone' | translate }}:<span class="font-normal ml-3">{{
                            item.contactPhoneNumber
                        }}</span>
                    </div>
                    <div>
                        {{ 'order.detail.shipping-information' | translate }}:<span class="font-normal ml-3">{{
                            item.shippingInformation
                        }}</span>
                    </div>
                </div>
                <div class="flex flex-col gap-y-2 font-semibold">
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.status' | translate }}:</div>
                        <div class="font-normal">{{ item.status }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.delivery-address' | translate }}:</div>
                        <div class="font-normal">{{ item.deliveryAddress }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.city' | translate }}:</div>
                        <div class="font-normal">{{ item.city }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.country' | translate }}:</div>
                        <div class="font-normal">{{ item.country }}</div>
                    </div>
                </div>
            </div>
        }
        <div class="lg:mx-16">
            <nextpro-user-timeline [timelineStatuses]="orderTimeline" />
        </div>
        @for (item of receiveInformation; track item) {
            <div [id]="item.id" class="grid lg:grid-cols-2 grid-cols-1 lg:gap-x-16 font-semibold">
                <div class="flex flex-col gap-y-1.5">
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.receiver' | translate }}:</div>
                        <div class="font-normal">{{ item.contactFullName }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.phone' | translate }}:</div>
                        <div class="font-normal">{{ item.contactPhoneNumber }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.email' | translate }}:</div>
                        <div class="font-normal">{{ item.contactEmail }}</div>
                    </div>
                </div>
                <div class="flex flex-col gap-y-1.5">
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.delivery-address' | translate }}:</div>
                        <div class="font-normal lg:line-clamp-2 line-clamp-3">{{ item.deliveryAddress }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.city' | translate }}:</div>
                        <div class="font-normal">{{ item.city }}</div>
                    </div>
                    <div class="flex gap-x-6">
                        <div class="min-w-32">{{ 'order.detail.country' | translate }}:</div>
                        <div class="font-normal">{{ item.country }}</div>
                    </div>
                </div>
            </div>
        }

        <div class="mt-8 font-semibold text-base">{{ 'order.detail.general-info.title' | translate }}:</div>
        <mat-divider class="border border-black" />
        <div class="mt-10 lg:flex items-center">
            <div class="hidden lg:flex flex-col mt-3 gap-y-[19px] text-base">
                <div class="w-32">{{ 'order.detail.general-info.product-name' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-image' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-specification' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-quality' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-unit-price' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-vat' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-voucher' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-club-buyer' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-refund' | translate }}</div>
                <div class="w-32">{{ 'order.detail.general-info.product-total' | translate }}</div>
            </div>
            @for (group of inputGroups; track group; let i = $index) {
                <div>
                    <div class="text-center text-base lg:mt-[-20px] mt-6 mb-3 font-semibold">{{ group.title }}</div>
                    <div class="flex flex-col gap-y-2.5 lg:mx-5">
                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-name' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.productName"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />
                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-image' | translate }}
                        </div>
                        <label class="custom-file-upload lg:w-60 w-full">
                            <input type="file" (change)="fileChanged($event, group)" hidden />
                            @if (!group.file) {
                                <img src="assets/icons/upload.svg" alt="Upload" class="mx-auto pt-2" />
                            }

                            @if (group.file) {
                                <span>{{ group.file }}</span>
                            }
                        </label>
                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-specification' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.specifications"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-quality' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.quantity"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-unit-price' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.unitPrice"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-vat' | translate }}
                        </div>
                        <input [(ngModel)]="group.tax" type="text" class="border border-[#A9A5A5] lg:w-60 w-full h-8" />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-voucher' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.voucher"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-club-buyer' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.buyerClub"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-refund' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.repay"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />

                        <div class="lg:hidden block text-sm w-32">
                            {{ 'order.detail.general-info.product-total' | translate }}
                        </div>
                        <input
                            [(ngModel)]="group.totalPrice"
                            type="text"
                            class="border border-[#A9A5A5] lg:w-60 w-full h-8"
                        />
                    </div>
                </div>
            }
            <button
                mat-icon-button
                matTooltip="Thêm sản phẩm"
                (click)="addInputGroup()"
                [disabled]="inputGroups.length >= 2"
                [class.opacity-50]="inputGroups.length >= 2"
                [class.pointer-events-none]="inputGroups.length >= 2"
            >
                <img src="assets/icons/add.svg" alt="Add" [class.grayscale]="inputGroups.length >= 2" class="size-5" />
            </button>
        </div>
        <mat-divider class="!mt-4 border border-black" />
        <div class="mt-8">
            <div class="mb-4 flex items-center">
                <div class="lg:text-base text-xs w-[150px]">{{ 'order.detail.delivery-fee' | translate }}</div>
                <input type="text" class="border border-[#A9A5A5] lg:w-60 w-full h-8" />
            </div>
            <div class="mb-4 flex items-center">
                <div class="lg:text-base text-xs w-[150px]">{{ 'order.detail.total-payment' | translate }}</div>
                <input type="text" class="border border-[#A9A5A5] lg:w-60 w-full h-8" />
            </div>
            <div class="flex lg:text-base text-xs">
                <div class="w-[150px]">{{ 'order.detail.currency' | translate }}:</div>
                <p class="font-semibold">VND</p>
            </div>
            <div class="mt-2 flex lg:text-base text-xs">
                <div class="w-[150px]">{{ 'order.detail.payment-method' | translate }}:</div>
                <p class="font-semibold">Thanh toán khi nhận hàng (COD)</p>
            </div>
        </div>
    </div>
    <div class="hidden lg:mt-5 lg:flex lg:items-center lg:justify-end lg:gap-4">
        <button mat-stroked-button class="!border-[#15677F] w-[230px] !text-sm">
            {{ 'order.print-orders-btn' | translate }}
        </button>
        <button mat-stroked-button class="!border-[#15677F] w-[230px] !text-sm" disabled>
            {{ 'order.received-btn' | translate }}
        </button>
        <button mat-raised-button color="primary" class="w-[230px] !text-sm">
            {{ 'order.delivered-btn' | translate }}
        </button>
        <button mat-stroked-button class="!border-[#15677F] w-[230px] !text-sm" disabled>
            {{ 'order.return-order-btn' | translate }}
        </button>
        <button mat-stroked-button class="!border-[#15677F] w-[230px] !text-sm" disabled>
            {{ 'order.order-paid-btn' | translate }}
        </button>
    </div>
    <div class="lg:hidden mt-6 flex flex-col gap-y-3">
        <div class="flex gap-4">
            <button mat-stroked-button class="!border-[#15677F] w-full">
                {{ 'order.print-orders-btn' | translate }}
            </button>
            <button mat-stroked-button class="!border-[#15677F] w-full" disabled>
                {{ 'order.received-btn' | translate }}
            </button>
        </div>
        <button mat-stroked-button class="!border-[#15677F] w-full" disabled>
            {{ 'order.return-order-btn' | translate }}
        </button>
        <button mat-stroked-button class="!border-[#15677F] w-full" disabled>
            {{ 'order.order-paid-btn' | translate }}
        </button>
        <button mat-raised-button color="primary" class="w-full">
            {{ 'order.delivered-btn' | translate }}
        </button>
    </div>
</div>
